import{_ as s,o as a,c as n,S as e}from"./chunks/framework.8fda3224.js";const D=JSON.parse('{"title":"Sensors","description":"","frontmatter":{},"headers":[],"relativePath":"reference/definitions.md","filePath":"reference/definitions.md","lastUpdated":1692299928000}'),l={name:"reference/definitions.md"},o=e(`<h1 id="sensors" tabindex="-1">Sensors <a class="header-anchor" href="#sensors" aria-label="Permalink to &quot;Sensors&quot;">​</a></h1><p>You can add sensors under the <code>SENSORS</code> and <code>SENSORS_FIRST_INVERTER</code> keys in the configuration.</p><p>The page does not list all the sensors available, only the most frequently used ones. You might have to explore the sensor definitions for available sensors, or even the Modbus protocol document to add your own definitions.</p><h2 id="sensor-groups" tabindex="-1">Sensor groups <a class="header-anchor" href="#sensor-groups" aria-label="Permalink to &quot;Sensor groups&quot;">​</a></h2><p>Sensors groups will allow you to add several sensors with a single sensor entry.</p><h3 id="energy-management" tabindex="-1">Energy management <a class="header-anchor" href="#energy-management" aria-label="Permalink to &quot;Energy management&quot;">​</a></h3><p>These sensors are mostly related to energy or kWh and required for the Home Assistant <a href="./../guide/energy-management">Energy Management</a></p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">SENSORS</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">energy_management</span></span></code></pre></div><details class="details custom-block"><summary>Sensors included</summary><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C3E88D;">total_battery_charge</span></span>
<span class="line"><span style="color:#C3E88D;">total_battery_discharge</span></span>
<span class="line"><span style="color:#C3E88D;">total_grid_export</span></span>
<span class="line"><span style="color:#C3E88D;">total_grid_import</span></span>
<span class="line"><span style="color:#C3E88D;">total_pv_energy</span></span></code></pre></div></details><h3 id="power-flow-card-power-flow-card" tabindex="-1">Power flow card: <code>power_flow_card</code> <a class="header-anchor" href="#power-flow-card-power-flow-card" aria-label="Permalink to &quot;Power flow card: \`power_flow_card\`&quot;">​</a></h3><p>These are all sensors used by the <a href="./../examples/lovelace#sunsynk-power-flow-card">Power Flow Card</a></p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">SENSORS</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">power_flow_card</span></span></code></pre></div><details class="details custom-block"><summary>Sensors included</summary><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C3E88D;">aux_power</span></span>
<span class="line"><span style="color:#C3E88D;">battery_current</span></span>
<span class="line"><span style="color:#C3E88D;">battery_power</span></span>
<span class="line"><span style="color:#C3E88D;">battery_soc</span></span>
<span class="line"><span style="color:#C3E88D;">battery_voltage</span></span>
<span class="line"><span style="color:#C3E88D;">day_battery_charge</span></span>
<span class="line"><span style="color:#C3E88D;">day_battery_discharge</span></span>
<span class="line"><span style="color:#C3E88D;">day_grid_export</span></span>
<span class="line"><span style="color:#C3E88D;">day_grid_import</span></span>
<span class="line"><span style="color:#C3E88D;">day_load_energy</span></span>
<span class="line"><span style="color:#C3E88D;">day_pv_energy</span></span>
<span class="line"><span style="color:#C3E88D;">essential_power</span></span>
<span class="line"><span style="color:#C3E88D;">grid_connected</span></span>
<span class="line"><span style="color:#C3E88D;">grid_ct_power</span></span>
<span class="line"><span style="color:#C3E88D;">grid_frequency</span></span>
<span class="line"><span style="color:#C3E88D;">grid_power</span></span>
<span class="line"><span style="color:#C3E88D;">grid_voltage</span></span>
<span class="line"><span style="color:#C3E88D;">inverter_current</span></span>
<span class="line"><span style="color:#C3E88D;">inverter_power</span></span>
<span class="line"><span style="color:#C3E88D;">load_frequency</span></span>
<span class="line"><span style="color:#C3E88D;">non_essential_power</span></span>
<span class="line"><span style="color:#C3E88D;">overall_state</span></span>
<span class="line"><span style="color:#C3E88D;">priority_load</span></span>
<span class="line"><span style="color:#C3E88D;">pv1_current</span></span>
<span class="line"><span style="color:#C3E88D;">pv1_power</span></span>
<span class="line"><span style="color:#C3E88D;">pv1_voltage</span></span>
<span class="line"><span style="color:#C3E88D;">use_timer</span></span></code></pre></div></details><h3 id="settings" tabindex="-1">Settings <a class="header-anchor" href="#settings" aria-label="Permalink to &quot;Settings&quot;">​</a></h3><p>Sensors used for changing the System Operating Mode - see <a href="./../examples/lovelace-settings">here</a></p><p>These can be under <code>SENSORS</code> or <code>SENSORS_FIRST_INVERTER</code></p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">SENSORS_FIRST_INVERTER</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">settings</span></span></code></pre></div><details class="details custom-block"><summary>Sensors included</summary><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C3E88D;">prog1_capacity</span></span>
<span class="line"><span style="color:#C3E88D;">prog1_charge</span></span>
<span class="line"><span style="color:#C3E88D;">prog1_power</span></span>
<span class="line"><span style="color:#C3E88D;">prog1_time</span></span>
<span class="line"><span style="color:#C3E88D;">prog2_capacity</span></span>
<span class="line"><span style="color:#C3E88D;">prog2_charge</span></span>
<span class="line"><span style="color:#C3E88D;">prog2_power</span></span>
<span class="line"><span style="color:#C3E88D;">prog2_time</span></span>
<span class="line"><span style="color:#C3E88D;">prog3_capacity</span></span>
<span class="line"><span style="color:#C3E88D;">prog3_charge</span></span>
<span class="line"><span style="color:#C3E88D;">prog3_power</span></span>
<span class="line"><span style="color:#C3E88D;">prog3_time</span></span>
<span class="line"><span style="color:#C3E88D;">prog4_capacity</span></span>
<span class="line"><span style="color:#C3E88D;">prog4_charge</span></span>
<span class="line"><span style="color:#C3E88D;">prog4_power</span></span>
<span class="line"><span style="color:#C3E88D;">prog4_time</span></span>
<span class="line"><span style="color:#C3E88D;">prog5_capacity</span></span>
<span class="line"><span style="color:#C3E88D;">prog5_charge</span></span>
<span class="line"><span style="color:#C3E88D;">prog5_power</span></span>
<span class="line"><span style="color:#C3E88D;">prog5_time</span></span>
<span class="line"><span style="color:#C3E88D;">prog6_capacity</span></span>
<span class="line"><span style="color:#C3E88D;">prog6_charge</span></span>
<span class="line"><span style="color:#C3E88D;">prog6_power</span></span>
<span class="line"><span style="color:#C3E88D;">prog6_time</span></span></code></pre></div></details><h3 id="custom-sensors" tabindex="-1">Custom Sensors <a class="header-anchor" href="#custom-sensors" aria-label="Permalink to &quot;Custom Sensors&quot;">​</a></h3><p>If you have <a href="./mysensors">custom sensors</a>, you can add them all with the <code>mysensors</code> group.</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">SENSORS</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mysensors</span></span></code></pre></div><h2 id="sensor-definitions" tabindex="-1">Sensor definitions <a class="header-anchor" href="#sensor-definitions" aria-label="Permalink to &quot;Sensor definitions&quot;">​</a></h2><p>The sensor definition includes the modbus register number (or several registers), the name of the sensor, the unit and other optional parameters. For example:</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">Sensor</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">183</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Battery voltage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> VOLT</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#F78C6C;">0.01</span><span style="color:#89DDFF;">),</span></span>
<span class="line"><span style="color:#82AAFF;">Sensor</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">184</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Battery SOC</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#82AAFF;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">%</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">),</span></span></code></pre></div><p>The last parameter in the battery sensor definition is a factor, in this case a value of 1 in the register represents 0.01V. When the factor is negative for normal sensors it indicates that the number in the register is Signed</p><p>When you add the <em>Battery voltage</em> sensor to your configuration you can use any of the following formats</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">SENSORS</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">battery_voltage</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Battery Voltage</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">BATTERY_voltage</span></span></code></pre></div><p>In the logs you will typically see the first format (no space and all lower case)</p><h2 id="single-phase-inverter-sensor-definitions" tabindex="-1">Single Phase Inverter Sensor Definitions <a class="header-anchor" href="#single-phase-inverter-sensor-definitions" aria-label="Permalink to &quot;Single Phase Inverter Sensor Definitions&quot;">​</a></h2><p>These definitions apply to the single phase inverters. In the Home Assistant addon these are selected with the following configuration:</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">SENSOR_DEFINITIONS</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">single-phase</span></span></code></pre></div><p>These definitions can be viewed online at <a href="https://github.com/kellerza/sunsynk/blob/main/sunsynk/definitions.py" target="_blank" rel="noreferrer">https://github.com/kellerza/sunsynk/blob/main/sunsynk/definitions.py</a></p><h2 id="three-phase-inverter-sensor-definitions" tabindex="-1">Three Phase Inverter Sensor Definitions <a class="header-anchor" href="#three-phase-inverter-sensor-definitions" aria-label="Permalink to &quot;Three Phase Inverter Sensor Definitions&quot;">​</a></h2><p>These definitions apply to the three phase inverters. In the Home Assistant addon these are selected with the following configuration:</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F07178;">SENSOR_DEFINITIONS</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">three-phase</span></span></code></pre></div><p>These definitions can be viewed online at <a href="https://github.com/kellerza/sunsynk/blob/main/sunsynk/definitions3ph.py" target="_blank" rel="noreferrer">https://github.com/kellerza/sunsynk/blob/main/sunsynk/definitions3ph.py</a></p>`,36),p=[o];function t(r,c,i,y,d,h){return a(),n("div",null,p)}const m=s(l,[["render",t]]);export{D as __pageData,m as default};
